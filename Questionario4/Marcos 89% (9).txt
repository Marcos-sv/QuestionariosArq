DATAACESS:
    CALL TEST_TAG, ADDR, @LINE
    CMP LINE, -1
    JNE CACHE_HIT

CACHE_MISS:
    CALL FIND_CAC, BLOCK, @LINE
    CALL TEST_MOD, LINE, @MOD
    CMP MOD, TRUE
    JNE NAO_MODIFICADA
    CALL WRIT_MEM, LINE, ADDR
NOMOD:
    CALL READ_MEM, ADDR, @DATUM, @BLOCK
    CALL WRIT_CAC, BLOCK, LINE
    JMP RETORNO

CACHE_HIT:
    CALL READ_CAC, LINE, ADDR, @DATUM

RETURN:
    MOV R0, DATUM
    RET
